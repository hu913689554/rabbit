{"remainingRequest":"G:\\基础文档\\Documents\\GitDemo\\rabbit\\vue-element-admin\\node_modules\\babel-loader\\lib\\index.js!G:\\基础文档\\Documents\\GitDemo\\rabbit\\vue-element-admin\\node_modules\\eslint-loader\\index.js??ref--13-0!G:\\基础文档\\Documents\\GitDemo\\rabbit\\vue-element-admin\\src\\directive\\sticky.js","dependencies":[{"path":"G:\\基础文档\\Documents\\GitDemo\\rabbit\\vue-element-admin\\src\\directive\\sticky.js","mtime":1646385770985},{"path":"G:\\基础文档\\Documents\\GitDemo\\rabbit\\vue-element-admin\\babel.config.js","mtime":1646385770904},{"path":"G:\\基础文档\\Documents\\GitDemo\\rabbit\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\基础文档\\Documents\\GitDemo\\rabbit\\vue-element-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"G:\\基础文档\\Documents\\GitDemo\\rabbit\\vue-element-admin\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKdmFyIHZ1ZVN0aWNreSA9IHt9Owp2YXIgbGlzdGVuQWN0aW9uOwoKdnVlU3RpY2t5Lmluc3RhbGwgPSBmdW5jdGlvbiAoVnVlKSB7CiAgVnVlLmRpcmVjdGl2ZSgnc3RpY2t5JywgewogICAgaW5zZXJ0ZWQ6IGZ1bmN0aW9uIGluc2VydGVkKGVsLCBiaW5kaW5nKSB7CiAgICAgIHZhciBwYXJhbXMgPSBiaW5kaW5nLnZhbHVlIHx8IHt9OwogICAgICB2YXIgc3RpY2t5VG9wID0gcGFyYW1zLnN0aWNreVRvcCB8fCAwOwogICAgICB2YXIgekluZGV4ID0gcGFyYW1zLnpJbmRleCB8fCAxMDAwOwogICAgICB2YXIgZWxTdHlsZSA9IGVsLnN0eWxlOwogICAgICBlbFN0eWxlLnBvc2l0aW9uID0gJy13ZWJraXQtc3RpY2t5JzsKICAgICAgZWxTdHlsZS5wb3NpdGlvbiA9ICdzdGlja3knOyAvLyBpZiB0aGUgYnJvd3NlciBzdXBwb3J0IGNzcyBzdGlja3nvvIhDdXJyZW50bHkgU2FmYXJpLCBGaXJlZm94IGFuZCBDaHJvbWUgQ2FuYXJ577yJCiAgICAgIC8vIGlmICh+ZWxTdHlsZS5wb3NpdGlvbi5pbmRleE9mKCdzdGlja3knKSkgewogICAgICAvLyAgICAgZWxTdHlsZS50b3AgPSBgJHtzdGlja3lUb3B9cHhgOwogICAgICAvLyAgICAgZWxTdHlsZS56SW5kZXggPSB6SW5kZXg7CiAgICAgIC8vICAgICByZXR1cm4KICAgICAgLy8gfQoKICAgICAgdmFyIGVsSGVpZ2h0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0OwogICAgICB2YXIgZWxXaWR0aCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoOwogICAgICBlbFN0eWxlLmNzc1RleHQgPSAidG9wOiAiLmNvbmNhdChzdGlja3lUb3AsICJweDsgei1pbmRleDogIikuY29uY2F0KHpJbmRleCk7CiAgICAgIHZhciBwYXJlbnRFbG0gPSBlbC5wYXJlbnROb2RlIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsKICAgICAgdmFyIHBsYWNlaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgIHBsYWNlaG9sZGVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgIHBsYWNlaG9sZGVyLnN0eWxlLndpZHRoID0gIiIuY29uY2F0KGVsV2lkdGgsICJweCIpOwogICAgICBwbGFjZWhvbGRlci5zdHlsZS5oZWlnaHQgPSAiIi5jb25jYXQoZWxIZWlnaHQsICJweCIpOwogICAgICBwYXJlbnRFbG0uaW5zZXJ0QmVmb3JlKHBsYWNlaG9sZGVyLCBlbCk7CiAgICAgIHZhciBhY3RpdmUgPSBmYWxzZTsKCiAgICAgIHZhciBnZXRTY3JvbGwgPSBmdW5jdGlvbiBnZXRTY3JvbGwodGFyZ2V0LCB0b3ApIHsKICAgICAgICB2YXIgcHJvcCA9IHRvcCA/ICdwYWdlWU9mZnNldCcgOiAncGFnZVhPZmZzZXQnOwogICAgICAgIHZhciBtZXRob2QgPSB0b3AgPyAnc2Nyb2xsVG9wJyA6ICdzY3JvbGxMZWZ0JzsKICAgICAgICB2YXIgcmV0ID0gdGFyZ2V0W3Byb3BdOwoKICAgICAgICBpZiAodHlwZW9mIHJldCAhPT0gJ251bWJlcicpIHsKICAgICAgICAgIHJldCA9IHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbbWV0aG9kXTsKICAgICAgICB9CgogICAgICAgIHJldHVybiByZXQ7CiAgICAgIH07CgogICAgICB2YXIgc3RpY2t5ID0gZnVuY3Rpb24gc3RpY2t5KCkgewogICAgICAgIGlmIChhY3RpdmUpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmICghZWxTdHlsZS5oZWlnaHQpIHsKICAgICAgICAgIGVsU3R5bGUuaGVpZ2h0ID0gIiIuY29uY2F0KGVsLm9mZnNldEhlaWdodCwgInB4Iik7CiAgICAgICAgfQoKICAgICAgICBlbFN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJzsKICAgICAgICBlbFN0eWxlLndpZHRoID0gIiIuY29uY2F0KGVsV2lkdGgsICJweCIpOwogICAgICAgIHBsYWNlaG9sZGVyLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJzsKICAgICAgICBhY3RpdmUgPSB0cnVlOwogICAgICB9OwoKICAgICAgdmFyIHJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgICAgaWYgKCFhY3RpdmUpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGVsU3R5bGUucG9zaXRpb24gPSAnJzsKICAgICAgICBwbGFjZWhvbGRlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIGFjdGl2ZSA9IGZhbHNlOwogICAgICB9OwoKICAgICAgdmFyIGNoZWNrID0gZnVuY3Rpb24gY2hlY2soKSB7CiAgICAgICAgdmFyIHNjcm9sbFRvcCA9IGdldFNjcm9sbCh3aW5kb3csIHRydWUpOwogICAgICAgIHZhciBvZmZzZXRUb3AgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7CgogICAgICAgIGlmIChvZmZzZXRUb3AgPCBzdGlja3lUb3ApIHsKICAgICAgICAgIHN0aWNreSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoc2Nyb2xsVG9wIDwgZWxIZWlnaHQgKyBzdGlja3lUb3ApIHsKICAgICAgICAgICAgcmVzZXQoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CgogICAgICBsaXN0ZW5BY3Rpb24gPSBmdW5jdGlvbiBsaXN0ZW5BY3Rpb24oKSB7CiAgICAgICAgY2hlY2soKTsKICAgICAgfTsKCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBsaXN0ZW5BY3Rpb24pOwogICAgfSwKICAgIHVuYmluZDogZnVuY3Rpb24gdW5iaW5kKCkgewogICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgbGlzdGVuQWN0aW9uKTsKICAgIH0KICB9KTsKfTsKCmV4cG9ydCBkZWZhdWx0IHZ1ZVN0aWNreTs="},{"version":3,"sources":["G:/基础文档/Documents/GitDemo/rabbit/vue-element-admin/src/directive/sticky.js"],"names":["vueSticky","listenAction","install","Vue","directive","inserted","el","binding","params","value","stickyTop","zIndex","elStyle","style","position","elHeight","getBoundingClientRect","height","elWidth","width","cssText","parentElm","parentNode","document","documentElement","placeholder","createElement","display","insertBefore","active","getScroll","target","top","prop","method","ret","window","sticky","offsetHeight","reset","check","scrollTop","offsetTop","addEventListener","unbind","removeEventListener"],"mappings":"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","sourcesContent":["const vueSticky = {}\r\nlet listenAction\r\nvueSticky.install = Vue => {\r\n  Vue.directive('sticky', {\r\n    inserted(el, binding) {\r\n      const params = binding.value || {}\r\n      const stickyTop = params.stickyTop || 0\r\n      const zIndex = params.zIndex || 1000\r\n      const elStyle = el.style\r\n\r\n      elStyle.position = '-webkit-sticky'\r\n      elStyle.position = 'sticky'\r\n      // if the browser support css sticky（Currently Safari, Firefox and Chrome Canary）\r\n      // if (~elStyle.position.indexOf('sticky')) {\r\n      //     elStyle.top = `${stickyTop}px`;\r\n      //     elStyle.zIndex = zIndex;\r\n      //     return\r\n      // }\r\n      const elHeight = el.getBoundingClientRect().height\r\n      const elWidth = el.getBoundingClientRect().width\r\n      elStyle.cssText = `top: ${stickyTop}px; z-index: ${zIndex}`\r\n\r\n      const parentElm = el.parentNode || document.documentElement\r\n      const placeholder = document.createElement('div')\r\n      placeholder.style.display = 'none'\r\n      placeholder.style.width = `${elWidth}px`\r\n      placeholder.style.height = `${elHeight}px`\r\n      parentElm.insertBefore(placeholder, el)\r\n\r\n      let active = false\r\n\r\n      const getScroll = (target, top) => {\r\n        const prop = top ? 'pageYOffset' : 'pageXOffset'\r\n        const method = top ? 'scrollTop' : 'scrollLeft'\r\n        let ret = target[prop]\r\n        if (typeof ret !== 'number') {\r\n          ret = window.document.documentElement[method]\r\n        }\r\n        return ret\r\n      }\r\n\r\n      const sticky = () => {\r\n        if (active) {\r\n          return\r\n        }\r\n        if (!elStyle.height) {\r\n          elStyle.height = `${el.offsetHeight}px`\r\n        }\r\n\r\n        elStyle.position = 'fixed'\r\n        elStyle.width = `${elWidth}px`\r\n        placeholder.style.display = 'inline-block'\r\n        active = true\r\n      }\r\n\r\n      const reset = () => {\r\n        if (!active) {\r\n          return\r\n        }\r\n\r\n        elStyle.position = ''\r\n        placeholder.style.display = 'none'\r\n        active = false\r\n      }\r\n\r\n      const check = () => {\r\n        const scrollTop = getScroll(window, true)\r\n        const offsetTop = el.getBoundingClientRect().top\r\n        if (offsetTop < stickyTop) {\r\n          sticky()\r\n        } else {\r\n          if (scrollTop < elHeight + stickyTop) {\r\n            reset()\r\n          }\r\n        }\r\n      }\r\n      listenAction = () => {\r\n        check()\r\n      }\r\n\r\n      window.addEventListener('scroll', listenAction)\r\n    },\r\n\r\n    unbind() {\r\n      window.removeEventListener('scroll', listenAction)\r\n    }\r\n  })\r\n}\r\n\r\nexport default vueSticky\r\n\r\n"]}]}